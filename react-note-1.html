<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>React Note 1</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Hester's Blog </a></h1>
                <nav><ul>
                    <li><a href="/category/blog.html">blog</a></li>
                    <li><a href="/category/java-note.html">Java Note</a></li>
                    <li class="active"><a href="/category/note.html">note</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/react-note-1.html" rel="bookmark"
           title="Permalink to React Note 1">React Note 1</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-06-06T13:34:00+02:00">
                Published: 六 06 六月 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hester.html">Hester</a>
        </address>
<p>In <a href="/category/note.html">Note</a>.</p>

</footer><!-- /.post-info -->      <h2>创建一个空的React项目</h2>
<h3>安装npm</h3>
<p>安装node</p>
<div class="highlight"><pre><span></span><code>brew install node
</code></pre></div>


<p>查看npm版本</p>
<div class="highlight"><pre><span></span><code>npm -v
</code></pre></div>


<h3>创建项目</h3>
<p>脚手架工具create-react-app</p>
<div class="highlight"><pre><span></span><code>npm install -g create-react-app
</code></pre></div>


<p>tips: 加速下载速度</p>
<div class="highlight"><pre><span></span><code>npm config <span class="nb">set</span> registry https://registry.npm.taobao.org
npm config get registry
</code></pre></div>


<p>创建项目</p>
<div class="highlight"><pre><span></span><code>create-react-app react_app
<span class="nb">cd</span> react_app
npm start
</code></pre></div>


<p><img alt="效果图" src="img/first-page.png"></p>
<p>在项目下可以看到<code>package.json</code>文件如下</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;react_app&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;private&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;@testing-library/jest-dom&quot;</span><span class="p">:</span> <span class="s2">&quot;^4.2.4&quot;</span><span class="p">,</span>
    <span class="nt">&quot;@testing-library/react&quot;</span><span class="p">:</span> <span class="s2">&quot;^9.5.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;@testing-library/user-event&quot;</span><span class="p">:</span> <span class="s2">&quot;^7.2.1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;react&quot;</span><span class="p">:</span> <span class="s2">&quot;^16.13.1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;react-dom&quot;</span><span class="p">:</span> <span class="s2">&quot;^16.13.1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;react-scripts&quot;</span><span class="p">:</span> <span class="s2">&quot;3.4.1&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;react-scripts start&quot;</span><span class="p">,</span>
    <span class="nt">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;react-scripts build&quot;</span><span class="p">,</span>
    <span class="nt">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;react-scripts test&quot;</span><span class="p">,</span>
    <span class="nt">&quot;eject&quot;</span><span class="p">:</span> <span class="s2">&quot;react-scripts eject&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;eslintConfig&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;extends&quot;</span><span class="p">:</span> <span class="s2">&quot;react-app&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;browserslist&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;production&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;&gt;0.2%&quot;</span><span class="p">,</span>
      <span class="s2">&quot;not dead&quot;</span><span class="p">,</span>
      <span class="s2">&quot;not op_mini all&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;development&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;last 1 chrome version&quot;</span><span class="p">,</span>
      <span class="s2">&quot;last 1 firefox version&quot;</span><span class="p">,</span>
      <span class="s2">&quot;last 1 safari version&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>


<p>开头的<code>name</code>为工程名，<code>version</code>表示版本号，<code>dependencies</code>表示工程依赖，<code>script</code>是打包运行的脚本</p>
<blockquote>
<p>作为一个java后端，有一种maven GAV坐标既视感</p>
</blockquote>
<h3>工程结构分析</h3>
<p><img alt="工程结构" src="img/app-struct.png"></p>
<p><code>node_modules</code>是工程依赖的包</p>
<p><code>public/index.html</code>是单页面应用SPA(single page application)
截取body的部分如下</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">noscript</span><span class="p">&gt;</span>You need to enable JavaScript to run this app.<span class="p">&lt;/</span><span class="nt">noscript</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;root&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div>


<p><code>src/index.js</code>是整个应用的入口js代码</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">React</span> <span class="nn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">ReactDOM</span> <span class="nn">from</span> <span class="s1">&#39;react-dom&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="s1">&#39;./index.css&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">App</span> <span class="nn">from</span> <span class="s1">&#39;./App&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="o">*</span> <span class="k">as</span> <span class="n">serviceWorker</span> <span class="kn">from</span> <span class="s1">&#39;./serviceWorker&#39;</span><span class="p">;</span>

<span class="n">ReactDOM</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="n">React</span><span class="o">.</span><span class="n">StrictMode</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">App</span> <span class="o">/&gt;</span>
  <span class="o">&lt;/</span><span class="n">React</span><span class="o">.</span><span class="n">StrictMode</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>


<p><code>src/App.js</code>表示App组件
注意<strong>所有的class</strong>使用<strong>className</strong>代替</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">React</span> <span class="nn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">logo</span> <span class="nn">from</span> <span class="s1">&#39;./logo.svg&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>

<span class="n">function</span> <span class="n">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">header</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App-header&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="p">{</span><span class="n">logo</span><span class="p">}</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App-logo&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;logo&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
          <span class="n">Edit</span> <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">src</span><span class="o">/</span><span class="n">App</span><span class="o">.</span><span class="n">js</span><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;</span> <span class="ow">and</span> <span class="n">save</span> <span class="n">to</span> <span class="nb">reload</span><span class="o">.</span>
        <span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span>
          <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App-link&quot;</span>
          <span class="n">href</span><span class="o">=</span><span class="s2">&quot;https://reactjs.org&quot;</span>
          <span class="n">target</span><span class="o">=</span><span class="s2">&quot;_blank&quot;</span>
          <span class="n">rel</span><span class="o">=</span><span class="s2">&quot;noopener noreferrer&quot;</span>
        <span class="o">&gt;</span>
          <span class="n">Learn</span> <span class="n">React</span>
        <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">header</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">App</span><span class="p">;</span>
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>