<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>  GUI Section Two
 | Hester's Blog</title>

    <meta name="author" content="Hester"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"/>
    <link rel="stylesheet" href="/theme/css/jquery.mglass.css"/>
    <link rel="stylesheet" href="/theme/css/pygment-solarized-dark.css"/>
    <link rel="stylesheet" href="/theme/css/style.css"/>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Istok+Web' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>


    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <!-- Feeds -->


  </head>

  <body>

    <div class="container">

      <div class="page-header">
        <h1><a href="">Hester's Blog</a> <small></small></h1>
      </div>

      <nav class="navbar navbar-default">

        <!-- Hamburger menu for mobile -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="" title="">Hester's Blog</a>
        </div>

        <!-- Menus and search forms -->
        <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

          <ul class="nav navbar-nav">
<li >
                  <a href="/category/bigdata.html">BigData</a>
                </li>
<li >
                  <a href="/category/blog.html">Blog</a>
                </li>
<li >
                  <a href="/category/front-end-note.html">Front End Note</a>
                </li>
<li  class="active" >
                  <a href="/category/gui-note.html">GUI Note <span class="sr-only">(current)</span></a>
                </li>
<li >
                  <a href="/category/java-note.html">Java Note</a>
                </li>
<li >
                  <a href="/category/spring.html">Spring</a>
                </li>
          </ul>



        </div>

      </nav>

    </div>


    <div class="container main">


      <div class="row">
        <div class=" col-md-9  ">
  <h1>
    <a href="/gui-section-two.html" rel="bookmark" title="Permalink to GUI Section Two">GUI Section Two</a>
  </h1>
        </div>
      </div>

      <div class="row">


        <div class=" col-md-9 " id="content" role="main">
  

  <div>
    <p>本部分是对GUI中的事件注册进行讨论，初始的代码如下：</p>
<div class="highlight"><pre><span></span><code><span class="c1">//:com/gui/start/Button1.java</span>
<span class="kn">package</span> <span class="nn">com.gui.start</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Button1</span> <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="kd">private</span> <span class="n">JButton</span>
        <span class="n">b1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Button1&quot;</span><span class="p">),</span>
        <span class="n">b2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Button2&quot;</span><span class="p">);</span>
    <span class="kd">private</span> <span class="n">JLabel</span>
        <span class="n">label1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JLabel</span><span class="p">(</span><span class="s">&quot;Label one&quot;</span><span class="p">),</span>
        <span class="n">label2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JLabel</span><span class="p">(</span><span class="s">&quot;Label two&quot;</span><span class="p">);</span>

    <span class="kd">public</span> <span class="nf">Button1</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">setLayout</span><span class="p">(</span><span class="k">new</span> <span class="n">FlowLayout</span><span class="p">());</span> <span class="c1">//每加入一个控件，都会从左到右，从上到下分布</span>
        <span class="n">add</span><span class="p">(</span><span class="n">b1</span><span class="p">);</span>
        <span class="n">add</span><span class="p">(</span><span class="n">b2</span><span class="p">);</span>
        <span class="n">add</span><span class="p">(</span><span class="n">label1</span><span class="p">);</span>
        <span class="n">add</span><span class="p">(</span><span class="n">label2</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// TODO Auto-generated method stub</span>
        <span class="n">SwingConsole</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="k">new</span> <span class="n">Button1</span><span class="p">(),</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>


<p><img alt="unavailable" src="img/button1.jpg" title="p1"></p>
<p>上述的代码显示的效果很简单，即一个Frame中布置了两个Button和两个Label，但是为了使得Button具有交互意义，必须为其注册事件，即下面的Button2.java那样：</p>
<div class="highlight"><pre><span></span><code><span class="c1">//:com/gui/start/Button2.java</span>
<span class="kn">package</span> <span class="nn">com.gui.start</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Button2</span> <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * </span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5828712884530293792L</span><span class="p">;</span>
    <span class="kd">private</span> <span class="n">JButton</span>
        <span class="n">button1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Button one&quot;</span><span class="p">),</span>
        <span class="n">button2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Button two&quot;</span><span class="p">);</span>
    <span class="kd">private</span> <span class="n">JTextField</span> <span class="n">txt</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JTextField</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>

    <span class="kd">class</span> <span class="nc">ButtonListener</span> <span class="kd">implements</span> <span class="n">ActionListener</span> <span class="p">{</span> <span class="c1">//定义事件监听器，使用匿名类是一个不错的选择</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// TODO Auto-generated method stub</span>
            <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="p">((</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">()).</span><span class="na">getText</span><span class="p">();</span>
            <span class="n">txt</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">name</span><span class="p">);</span> <span class="c1">//内部类可以访问外部类的private成员</span>
        <span class="p">}</span>

    <span class="p">}</span>

    <span class="kd">public</span> <span class="nf">Button2</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">setLayout</span><span class="p">(</span><span class="k">new</span> <span class="n">FlowLayout</span><span class="p">());</span>
        <span class="n">add</span><span class="p">(</span><span class="n">button1</span><span class="p">);</span>
        <span class="n">add</span><span class="p">(</span><span class="n">button2</span><span class="p">);</span>
        <span class="n">button1</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ButtonListener</span><span class="p">());</span> <span class="c1">//注册事件</span>
        <span class="n">button2</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ButtonListener</span><span class="p">());</span>
        <span class="n">add</span><span class="p">(</span><span class="n">txt</span><span class="p">);</span>
    <span class="p">}</span>


    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// TODO Auto-generated method stub</span>
        <span class="n">SwingConsole</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="k">new</span> <span class="n">Button2</span><span class="p">(),</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>


<p><img alt="unavailable" src="img/button2.jpg" title="p2"></p>
<p>Button2实现了Button的交互效果，当鼠标点击任意一个Button时，TestField会显示Button中的字符串，任何事件都需要实现ActionListerner接口实现，然后在相应的控件中使用addActionListener进行事件注册。而接下来的Button2b则是使用匿名内部类实现了Button2相同的效果，感觉代码量更少并且更加清晰。</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Button2b</span> <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="kd">private</span> <span class="n">JButton</span> 
        <span class="n">button1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Button 1&quot;</span><span class="p">),</span>
        <span class="n">button2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Button 2&quot;</span><span class="p">);</span>
    <span class="kd">private</span> <span class="n">JTextField</span> <span class="n">txt</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JTextField</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
    <span class="kd">private</span> <span class="n">ActionListener</span> <span class="n">bl</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span> <span class="c1">//使用匿名内部类实现事件监听</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="p">((</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">()).</span><span class="na">getText</span><span class="p">();</span>
            <span class="n">txt</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="kd">public</span> <span class="nf">Button2b</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">button1</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="n">bl</span><span class="p">);</span>
        <span class="n">button2</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="n">bl</span><span class="p">);</span>
        <span class="n">setLayout</span><span class="p">(</span><span class="k">new</span> <span class="n">FlowLayout</span><span class="p">());</span>
        <span class="n">add</span><span class="p">(</span><span class="n">button1</span><span class="p">);</span>
        <span class="n">add</span><span class="p">(</span><span class="n">button2</span><span class="p">);</span>
        <span class="n">add</span><span class="p">(</span><span class="n">txt</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// TODO Auto-generated method stub</span>
        <span class="n">SwingConsole</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="k">new</span> <span class="n">Button2b</span><span class="p">(),</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
  </div>



        </div>

          <div class="col-md-3">
  <div class="well">

    <p><abbr title="2017-11-01T10:20:00+08:00"><i class="fa fa-calendar"></i> 三 01 十一月 2017</abbr></p>

      <p><address>
        <i class="fa fa-user"></i> By
          <a href="/author/hester.html" rel="author">Hester</a>
      </address></p>

    <hr/>

      <p>
              <a href="/category/gui-note.html" rel="tag"
                  data-toggle="tooltip" class="label label-info"
                  title="8 articles in this category">GUI Note</a>
      </p>
      <hr/>



  </div>
            
          </div>

      </div>

    </div>

    <!-- TODO: make footer sticky -->
    <footer class="container-fluid">
      <div class="container">
        <div class="row">

            <div class="col-md-2">
                <h5>Social</h5>
                <ul class="list-unstyled">
                  <li>  <a href="#">
      <i class="fa fa-external-link"></i>
    You can add links in your config file
  </a></li>
                  <li>  <a href="#">
      <i class="fa fa-external-link"></i>
    Another social link
  </a></li>
                </ul>
            </div>
            <div class="col-md-2">
                <h5>Links</h5>
                <ul class="list-unstyled">
                  <li>  <a href="http://getpelican.com/">
      <img src="https://icons.better-idea.org/icon?url=getpelican.com&size=16" width="16" height="16" class="icon" alt="getpelican.com icon"/>
    Pelican
  </a></li>
                  <li>  <a href="http://python.org/">
      <img src="https://icons.better-idea.org/icon?url=python.org&size=16" width="16" height="16" class="icon" alt="python.org icon"/>
    Python.org
  </a></li>
                  <li>  <a href="http://jinja.pocoo.org/">
      <img src="https://icons.better-idea.org/icon?url=jinja.pocoo.org&size=16" width="16" height="16" class="icon" alt="jinja.pocoo.org icon"/>
    Jinja2
  </a></li>
                  <li>  <a href="#">
      <i class="fa fa-external-link"></i>
    You can modify those links in your config file
  </a></li>
                </ul>
            </div>

          <div class="col-md-2">
            <h5>Browse content by</h5>
            <ul class="list-unstyled">
            </ul>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Copyright notice</h5>
            <p>© Copyright 2017-2021 Hester.</p>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Disclaimer</h5>
              <p>All opinions expressed in this site are my own personal opinions and are not endorsed by, nor do they represent the opinions of my previous, current and future employers or any of its affiliates, partners or customers.</p>
          </div>

          <div class="col-md-2">
          </div>

        </div>
      </div>

      <h5 class="text-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></h5>

      <div class="container">
        <div class="row col-md-12 text-muted text-center">
          Site generated by <a href="https://getpelican.com"> Pelican</a>.<br/>
          <a href="https://github.com/kdeldycke/plumage"> Plumage</a> theme by <a href="https://kevin.deldycke.com">Kevin Deldycke</a>.
        </div>
      </div>

    </footer>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
    <script src="/theme/js/jquery.mglass.js"></script>
    <script src="/theme/js/application.js"></script>

  </body>
</html>